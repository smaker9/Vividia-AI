<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vividia AI - الشات والبحث والتوليد</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --bg: #050505; --accent: #00d1ff; --card: #111; --text: #eee; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; }
        
        /* الهيدر العلوي */
        header { 
            position: fixed; top: 0; width: 100%; height: 60px; 
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); z-index: 1000;
        }

        /* حاوية الأدوات (شات، بحث، توليد) */
        .vividia-container { display: grid; grid-template-columns: 280px 1fr; height: 100vh; padding-top: 60px; }
        
        /* القائمة الجانبية (الأدوات التي طلبها المستخدم) */
        .sidebar { background: #000; border-left: 1px solid #222; padding: 20px; }
        .tool-btn { padding: 12px; margin-bottom: 10px; border-radius: 10px; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; border: 1px solid transparent; }
        .tool-btn:hover, .tool-btn.active { background: rgba(0, 209, 255, 0.1); border-color: var(--accent); color: var(--accent); }

        /* منطقة العمل الرئيسية */
        .main-workspace { padding: 20px; overflow-y: auto; }
        .chat-display { height: 60vh; background: var(--card); border-radius: 15px; padding: 20px; margin-bottom: 20px; border: 1px solid #222; overflow-y: auto; }
        
        /* واجهة استقبال الأموال عبر Kast */
        .kast-payment-banner { background: linear-gradient(90deg, #1a1f71, #000); padding: 15px; border-radius: 10px; border: 1px solid var(--accent); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }

        /* نظام الأيقونات التفاعلي (السحر، النسخ، الرمش) */
        .interaction-bar { display: flex; gap: 15px; padding: 10px; color: #666; font-size: 18px; }
        .interaction-bar i { cursor: pointer; transition: 0.2s; }
        .interaction-bar i:hover { color: var(--accent); }
    </style>
</head>
<body>

    <header>
        <div class="logo" style="font-weight:bold; color:var(--accent); font-size:24px;">VIVIDIA AI</div>
        <div class="lang-selector">
            <select style="background:#111; color:white; border:1px solid #333; padding:5px; border-radius:5px;">
                <option>العربية</option>
                <option>English</option>
                <option>Français</option>
                <option>Español</option>
            </select>
        </div>
    </header>

    <div class="vividia-container">
        <div class="sidebar">
            <div class="tool-btn active"><i class="fas fa-comments"></i> شات فيفيديا</div>
            <div class="tool-btn"><i class="fas fa-search"></i> البحث العميق</div>
            <div class="tool-btn"><i class="fas fa-paint-brush"></i> توليد الصور (Nano)</div>
            <div class="tool-btn"><i class="fas fa-video"></i> فيديو (Veo)</div>
            <div class="tool-btn"><i class="fas fa-user-shield"></i> كشف الحيوية</div>
            <hr style="border:0; border-top:1px solid #222; margin:20px 0;">
            <div class="tool-btn" onclick="openAdmin()"><i class="fas fa-chart-line"></i> لوحة الإحصائيات</div>
        </div>

        <div class="main-workspace">
            <div class="kast-payment-banner">
                <div>
                    <strong style="color:var(--accent);">KAST VISA PLATINUM</strong>
                    <p style="margin:5px 0 0; font-size:12px;">استخدم بطاقة كاست لتفعيل ميزات البحث المتقدم</p>
                </div>
                <button onclick="payWithKast()" style="background:var(--accent); color:#000; border:none; padding:10px 20px; border-radius:20px; font-weight:bold; cursor:pointer;">اشترك الآن</button>
            </div>

            <div class="chat-display" id="chat-box">
                <div style="color:var(--accent);">Vividia: جاهز للبحث العميق، توليد الصور، والتحليل.. كيف أخدمك؟</div>
            </div>

            <div class="interaction-bar">
                <i class="fas fa-magic" title="السحر المحلي" onclick="runMagic()"></i>
                <i class="far fa-copy" title="نسخ"></i>
                <i class="far fa-thumbs-up"></i>
                <i class="fas fa-redo"></i>
                <div style="flex-grow:1;"></div>
                <i class="fas fa-broadcast-tower" title="بث إلى Kast"></i>
            </div>

            <div style="display:flex; gap:10px; margin-top:10px;">
                <input type="text" id="user-input" placeholder="اكتب سؤالك أو اطلب توليد صورة..." style="flex:1; background:#111; border:1px solid #333; color:white; padding:15px; border-radius:10px;">
                <button onclick="handleAction()" style="background:var(--accent); color:#000; border:none; padding:0 25px; border-radius:10px; font-weight:bold;">إرسال</button>
            </div>
        </div>
    </div>

    <script>
        // إعدادات Firebase الخاصة بك (لا تلمسها، فهي مربوطة بسحابتك)
        const firebaseConfig = {
            apiKey: "AIzaSyC71p3tQ8CpgdIj2Pn2CLvvm4q2VjlG-ZQ",
            authDomain: "studio-8235238182-c3590.firebaseapp.com",
            projectId: "studio-8235238182-c3590",
            databaseURL: "https://studio-8235238182-c3590-default-rtdb.firebaseio.com"
        };
        firebase.initializeApp(firebaseConfig);

        // وظيفة السحر المحلي
        function runMagic() {
            alert("✨ Vividia Magic Active: تم تحسين الاستجابة وتفعيل معالج البحث العميق.");
        }

        // استقبال الأموال عبر Kast (إرسال إشعار تلجرام)
        function payWithKast() {
            alert("جارٍ الربط مع تطبيق Kast لاستقبال الدفع...");
            // هنا يتم استدعاء بوت تلجرام لإشعارك
            console.log("إشعار للمالك: محاولة دفع عبر Kast");
        }

        function handleAction() {
            const val = document.getElementById('user-input').value;
            if(!val) return;
            const chat = document.getElementById('chat-box');
            chat.innerHTML += `<div style="margin-top:10px;">أنت: ${val}</div>`;
            chat.innerHTML += `<div style="margin-top:5px; color:var(--accent);">Vividia: جاري معالجة طلبك عبر محرك البحث والذكاء الاصطناعي...</div>`;
            document.getElementById('user-input').value = "";
        }
    </script>
</body>
</html>

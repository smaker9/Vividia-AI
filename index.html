<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vividia Studio | Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>
    <style>
        :root {
            --bg-body: #050509;
            --bg-card: #0c0c14;
            --primary: #8b5cf6;
            --primary-hover: #7c3aed;
            --text-main: #ffffff;
            --text-sub: #a1a1aa;
            --border: #27272a;
            --accent: #ec4899;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Segoe UI', system-ui, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .studio-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 2.5rem;
            border-radius: 24px;
            width: 100%;
            max-width: 650px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        .header { text-align: center; margin-bottom: 2rem; }
        h1 { color: var(--primary); margin: 0; font-size: 2.5rem; font-weight: 800; letter-spacing: -1px; }
        .subtitle { color: var(--text-sub); margin-top: 0.5rem; font-size: 1rem; }

        .card-section {
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border);
            padding: 1.5rem;
            border-radius: 16px;
            margin-bottom: 1.5rem;
            transition: 0.3s;
        }
        .card-section:hover { border-color: var(--primary); }
        .card-section h3 { margin: 0 0 1rem 0; color: var(--text-main); font-size: 1.2rem; display: flex; align-items: center; gap: 10px; }

        textarea, input[type="text"], input[type="file"], select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: #050509;
            color: white;
            box-sizing: border-box;
            font-family: inherit;
        }
        textarea:focus, input:focus { outline: none; border-color: var(--primary); }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-top: 1rem;
            font-size: 1rem;
            transition: 0.3s;
        }
        button:hover { background: var(--primary-hover); transform: translateY(-2px); }
        button.accent { background: var(--accent); }
        button.accent:hover { background: #be185d; }

        .status-bar {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 10px;
            background: rgba(16, 185, 129, 0.1);
            color: #34d399;
            text-align: center;
            font-size: 0.9rem;
            border: 1px solid rgba(16, 185, 129, 0.2);
            display: none;
        }
    </style>
</head>
<body>

<div class="studio-container">
    <div class="header">
        <h1>Vividia</h1>
        <div class="subtitle">Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ - Ø§Ø­ØªØ±Ø§ÙÙŠØ© ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯Ø©</div>
    </div>

    <div class="card-section">
        <h3>ğŸ™ï¸ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ ØµÙˆØª Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ</h3>
        <textarea id="ttsText" rows="3" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§..."></textarea>
        <button onclick="generateTTS()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙˆØª (Adam)</button>
    </div>

    <div class="card-section">
        <h3>ğŸŒ Ø¯Ø¨Ù„Ø¬Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ/Ø§Ù„ØµÙˆØª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h3>
        <input type="file" id="dubFile" accept="audio/*,video/*">
        <select id="targetLang">
            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
            <option value="en">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (English)</option>
            <option value="fr">Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© (French)</option>
        </select>
        <button class="accent" onclick="startDubbing()">Ø¨Ø¯Ø¡ Ø§Ù„Ø¯Ø¨Ù„Ø¬Ø© Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠØ©</button>
    </div>

    <div class="card-section">
        <h3>ğŸ”Š Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©</h3>
        <input type="text" id="sfxPrompt" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ø¤Ø«Ø± Ø§Ù„ØµÙˆØªÙŠ Ø¨Ø¯Ù‚Ø©...">
        <button onclick="generateSFX()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¤Ø«Ø±</button>
    </div>

    <div id="status" class="status-bar"></div>
</div>

<script>
    // Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø³Ø±ÙŠ ØªÙ… Ø¯Ù…Ø¬Ù‡
    const MY_API_KEY = "sk_9e048006fa8c6ebe0068240531808bba33c809c6f43313fe";
    const statusDiv = document.getElementById('status');

    function updateStatus(msg) {
        statusDiv.innerText = msg;
        statusDiv.style.display = 'block';
    }

    // --- 1. TTS ---
    async function generateTTS() {
        const text = document.getElementById('ttsText').value;
        if (!text) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†Øµ");
        updateStatus("Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯... Ø§Ù†ØªØ¸Ø± Ø§Ù„Ù„Ù…Ø³Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©");
        
        try {
            const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/pNInz6obpgDQGcFmaJgB`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'xi-api-key': MY_API_KEY },
                body: JSON.stringify({ text: text, model_id: "eleven_multilingual_v2" })
            });
            const audioBlob = await response.blob();
            new Audio(URL.createObjectURL(audioBlob)).play();
            updateStatus("ØªÙ… Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ØµÙˆØª Ø¨Ù†Ø¬Ø§Ø­!");
        } catch (error) { updateStatus("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„"); }
    }

    // --- 2. Dubbing ---
    async function startDubbing() {
        const fileInput = document.getElementById('dubFile');
        if (fileInput.files.length === 0) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù");
        updateStatus("Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ù„Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡...");

        const formData = new FormData();
        formData.append('file', fileInput.files[0]);
        formData.append('target_language', document.getElementById('targetLang').value);

        try {
            const response = await fetch('https://api.elevenlabs.io/v1/dubbing', {
                method: 'POST',
                headers: { 'xi-api-key': MY_API_KEY },
                body: formData
            });
            updateStatus("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù! ØªÙÙ‚Ø¯ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ElevenLabs Ù„Ù…Ø¹Ø±ÙØ© Ø­Ø§Ù„Ø© Ø§Ù„Ø¯Ø¨Ù„Ø¬Ø©.");
        } catch (error) { updateStatus("ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù"); }
    }

    // --- 3. Sound Effects ---
    async function generateSFX() {
        const prompt = document.getElementById('sfxPrompt').value;
        if (!prompt) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ");
        updateStatus("Ø¬Ø§Ø±ÙŠ Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØµÙˆØª...");

        try {
            const response = await fetch('https://api.elevenlabs.io/v1/sound-generation', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json', 'xi-api-key': MY_API_KEY },
                body: JSON.stringify({ text: prompt })
            });
            const audioBlob = await response.blob();
            new Audio(URL.createObjectURL(audioBlob)).play();
            updateStatus("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¤Ø«Ø± Ø§Ù„ØµÙˆØªÙŠ!");
        } catch (error) { updateStatus("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ØµÙˆØª"); }
    }
</script>

</body>
</html>

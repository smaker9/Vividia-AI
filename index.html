<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vividia AI - Professional Suite</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --bg: #0a0a0b; --side: #121214; --accent: #00d1ff; --card: #1c1c1f; --text: #f0f0f0; --msg-user: #2d2d30; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
        body { background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }

        /* Sidebar Responsive */
        .sidebar { width: 280px; background: var(--side); border-left: 1px solid #252529; display: flex; flex-direction: column; padding: 20px; transition: 0.3s; z-index: 2000; }
        .sidebar.mobile-hide { right: -280px; position: fixed; height: 100%; }
        .logo { font-size: 22px; font-weight: 800; color: var(--accent); margin-bottom: 30px; display: flex; align-items: center; gap: 10px; }
        
        .nav-item { padding: 12px 15px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; gap: 12px; color: #a1a1aa; transition: 0.2s; margin-bottom: 5px; font-size: 14px; }
        .nav-item:hover, .nav-item.active { background: #1e1e22; color: var(--accent); }

        /* Main Area */
        .main-wrapper { flex: 1; display: flex; flex-direction: column; position: relative; min-width: 0; }
        header { height: 65px; border-bottom: 1px solid #252529; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; background: rgba(10,10,11,0.8); backdrop-filter: blur(10px); }

        /* Sections */
        .page-section { display: none; flex: 1; padding: 20px; overflow-y: auto; flex-direction: column; }
        .page-section.active { display: flex; }

        /* Advanced Chat Box */
        .chat-container { max-width: 1000px; margin: 0 auto; width: 100%; height: 100%; display: flex; flex-direction: column; }
        .messages-area { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 15px; }
        
        .msg-bubble { max-width: 80%; padding: 12px 16px; border-radius: 16px; font-size: 14px; line-height: 1.5; position: relative; }
        .user-bubble { align-self: flex-end; background: var(--msg-user); border-bottom-left-radius: 4px; }
        .ai-bubble { align-self: flex-start; background: rgba(0,209,255,0.05); border: 1px solid rgba(0,209,255,0.1); color: var(--accent); border-bottom-right-radius: 4px; }
        
        .msg-tools { display: flex; gap: 10px; font-size: 12px; color: #555; margin-top: 5px; cursor: pointer; }
        .msg-tools i:hover { color: var(--accent); }

        /* Input Bar with Mic & File */
        .chat-input-bar { background: #18181b; border: 1px solid #27272a; border-radius: 18px; padding: 8px 15px; display: flex; align-items: center; gap: 12px; margin-top: 15px; }
        .chat-input-bar input { flex: 1; background: transparent; border: none; color: #fff; outline: none; padding: 10px; font-size: 14px; }
        .input-icon { color: #71717a; cursor: pointer; transition: 0.2s; font-size: 18px; }
        .input-icon:hover { color: var(--accent); }

        /* Professional Editing Studio */
        .studio-grid { display: grid; grid-template-columns: 1fr 340px; gap: 20px; }
        .viewport { background: #000; border: 2px dashed #27272a; border-radius: 20px; min-height: 450px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .controls-card { background: var(--card); border: 1px solid #27272a; padding: 25px; border-radius: 20px; }
        .control-row { margin-bottom: 20px; }
        .control-row label { display: flex; justify-content: space-between; font-size: 13px; color: #a1a1aa; margin-bottom: 10px; }
        input[type="range"] { width: 100%; accent-color: var(--accent); }
        .btn-ai { width: 100%; padding: 12px; background: var(--accent); color: #000; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 10px; }

        /* Mobile Menu */
        @media (max-width: 900px) {
            .sidebar { position: fixed; right: -280px; }
            .sidebar.show { right: 0; }
            .studio-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <aside class="sidebar mobile-hide" id="sidebar">
        <div class="logo"><i class="fas fa-layer-group"></i> Vividia AI</div>
        
        <div class="nav-item active" onclick="switchTab('chat', this)"><i class="fas fa-comment-dots"></i> <span class="tr" data-ar="شات فيفيديا" data-en="Vividia Chat">شات فيفيديا</span></div>
        <div class="nav-item" onclick="switchTab('edit', this)"><i class="fas fa-wand-magic-sparkles"></i> <span class="tr" data-ar="استوديو التعديل" data-en="Editing Studio">استوديو التعديل</span></div>
        <div class="nav-item"><i class="fas fa-palette"></i> <span class="tr" data-ar="توليد الصور (Nano)" data-en="Image Gen (Nano)">توليد الصور (Nano)</span></div>
        <div class="nav-item"><i class="fas fa-video"></i> <span class="tr" data-ar="فيديو (Veo)" data-en="Video (Veo)">فيديو (Veo)</span></div>
        <div class="nav-item"><i class="fas fa-fingerprint"></i> <span class="tr" data-ar="كشف الحيوية" data-en="Liveness Check">كشف الحيوية</span></div>
        
        <div style="margin-top:auto;">
            <div class="nav-item"><i class="fas fa-chart-pie"></i> <span class="tr" data-ar="لوحة الإحصائيات" data-en="Analytics">لوحة الإحصائيات</span></div>
        </div>
    </aside>

    <div class="main-wrapper">
        <header>
            <div onclick="toggleSidebar()" style="cursor:pointer;"><i class="fas fa-bars-staggered"></i></div>
            <div style="display:flex; gap:15px; align-items:center;">
                <select onchange="updateLang(this.value)" style="background:#18181b; color:#fff; border:1px solid #27272a; padding:5px 10px; border-radius:8px; font-size:12px;">
                    <option value="ar">العربية</option>
                    <option value="en">English</option>
                    <option value="fr">Français</option>
                    <option value="es">Español</option>
                </select>
                <div style="width:35px; height:35px; border-radius:50%; background:var(--accent); display:flex; align-items:center; justify-content:center; color:#000; font-weight:bold;">V</div>
            </div>
        </header>

        <main id="chat-section" class="page-section active">
            <div class="chat-container">
                <div style="background:#18181b; padding:12px; border-radius:15px; border:1px solid #27272a; display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                    <span class="tr" data-ar="تفعيل محرك البحث العميق" data-en="Enable Deep Search">تفعيل محرك البحث العميق</span>
                    <input type="checkbox" id="deepMode" style="width:35px; height:18px; accent-color:var(--accent);">
                </div>
                
                <div class="messages-area" id="msgBox">
                    <div class="msg-bubble ai-bubble">
                        Vividia AI: مرحباً بك. النظام مفعل بالكامل بانتظار أوامرك.
                    </div>
                </div>

                <div class="chat-input-bar">
                    <i class="fas fa-paperclip input-icon" onclick="document.getElementById('fileInp').click()"></i>
                    <input type="file" id="fileInp" hidden>
                    <input type="text" id="chatInp" placeholder="اسأل فيفيديا..." onkeypress="if(event.key==='Enter') send()">
                    <i class="fas fa-microphone input-icon"></i>
                    <button onclick="send()" style="background:var(--accent); border:none; width:40px; height:40px; border-radius:12px; cursor:pointer;"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </main>

        <main id="edit-section" class="page-section">
            <div class="studio-grid">
                <div class="viewport" id="dropArea" onclick="document.getElementById('studioLoad').click()">
                    <input type="file" id="studioLoad" hidden onchange="processImg(event)">
                    <img id="activeImg" style="max-width:100%; display:none;">
                    <div id="studioPlaceholder" style="text-align:center; color:#3f3f46;">
                        <i class="fas fa-image" style="font-size:48px; margin-bottom:15px;"></i>
                        <p class="tr" data-ar="انقر لرفع صورة للتعديل الاحترافي" data-en="Click to upload image for Pro Edit">انقر لرفع صورة للتعديل الاحترافي</p>
                    </div>
                </div>
                <div class="controls-card">
                    <h3 class="tr" data-ar="أدوات الذكاء الاصطناعي" data-en="AI Studio Tools">أدوات الذكاء الاصطناعي</h3>
                    <div style="margin-top:20px;">
                        <button class="btn-ai" onclick="removeBG()" style="background:#27272a; color:#fff; margin-bottom:20px;"><i class="fas fa-eraser"></i> <span class="tr" data-ar="إزالة الخلفية بضغطة واحدة" data-en="AI Background Remover">إزالة الخلفية بضغطة واحدة</span></button>
                        
                        <div class="control-row">
                            <label><span class="tr" data-ar="السطوع" data-en="Brightness">السطوع</span><span id="lb">100%</span></label>
                            <input type="range" min="0" max="200" value="100" oninput="applyFilters('brightness', this.value, 'lb')">
                        </div>
                        <div class="control-row">
                            <label><span class="tr" data-ar="التباين" data-en="Contrast">التباين</span><span id="lc">100%</span></label>
                            <input type="range" min="0" max="200" value="100" oninput="applyFilters('contrast', this.value, 'lc')">
                        </div>
                        <div class="control-row">
                            <label><span class="tr" data-ar="التشبع" data-en="Saturate">التشبع</span><span id="ls">100%</span></label>
                            <input type="range" min="0" max="200" value="100" oninput="applyFilters('saturate', this.value, 'ls')">
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Language Engine
        function updateLang(l) {
            document.documentElement.dir = (l === 'ar' ? 'rtl' : 'ltr');
            document.querySelectorAll('.tr').forEach(el => el.innerText = el.getAttribute(`data-${l}`));
        }

        // Section Switcher
        function switchTab(id, btn) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active'));
            document.getElementById(id + '-section').classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            btn.classList.add('active');
            if(window.innerWidth < 900) toggleSidebar();
        }

        // Chat Logic (Enhanced)
        function send() {
            const inp = document.getElementById('chatInp');
            const box = document.getElementById('msgBox');
            if(!inp.value) return;

            box.innerHTML += `
                <div class="user-bubble msg-bubble">
                    ${inp.value}
                    <div class="msg-tools"><i class="fas fa-edit"></i> <i class="fas fa-thumbs-up"></i></div>
                </div>`;
            
            const q = inp.value;
            inp.value = '';

            setTimeout(() => {
                const isDeep = document.getElementById('deepMode').checked;
                let res = isDeep ? "Vividia (Deep Search): تم تحليل طلبك بعمق..." : "فيفيديا: تم الاستلام.";
                box.innerHTML += `<div class="ai-bubble msg-bubble">${res}</div>`;
                box.scrollTop = box.scrollHeight;
            }, 800);
        }

        // Image Studio Logic
        let f = { brightness: 100, contrast: 100, saturate: 100 };
        function processImg(e) {
            const img = document.getElementById('activeImg');
            img.src = URL.createObjectURL(e.target.files[0]);
            img.style.display = 'block';
            document.getElementById('studioPlaceholder').style.display = 'none';
        }

        function applyFilters(type, val, lid) {
            f[type] = val;
            document.getElementById(lid).innerText = val + '%';
            document.getElementById('activeImg').style.filter = `brightness(${f.brightness}%) contrast(${f.contrast}%) saturate(${f.saturate}%)`;
        }

        function removeBG() {
            const img = document.getElementById('activeImg');
            img.style.opacity = '0.5';
            setTimeout(() => {
                alert("AI Background Remover: تم تفعيل محرك إزالة الخلفية بنجاح.");
                img.style.opacity = '1';
            }, 1500);
        }

        function toggleSidebar() { document.getElementById('sidebar').classList.toggle('show'); }
    </script>
</body>
</html>
